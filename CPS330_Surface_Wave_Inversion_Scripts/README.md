# CPS330 Surface Wave Dispersion Curve Inversion Toolbox

## Overview

This repository contains a collection of user-defined scripts designed to facilitate the usage of **CPS330**, a surface wave inversion program. These scripts automate various stages of the dispersion curve inversion workflow, including pre-processing, inversion execution, and post-processing of results. 

The scripts are tailored for personal use but can be utilized by other users with access to **CPS330**. Note that the core inversion is performed by **CPS330**, and these scripts act as wrappers or helpers for automating tasks.

---

## Requirements

- **CPS330**: These scripts require the CPS330 software for surface wave inversion. Make sure it is installed and accessible in your environment.
- **Python 3.x**: For Python-based utilities.
- **Bash Shell**: For executing `.sh` scripts.
- Additional Python libraries: `matplotlib`, `numpy`.

---

## Files Included

### Bash Scripts
1. **`1_process_disp.sh`**  
   Prepares and processes the dispersion curve input for CPS330.

2. **`2_process_modl.sh`**  
   Handles model file preparation for inversion runs.

3. **`3_process_single.sh`**  
   Processes a single inversion task with a given model and dispersion curve.

4. **`1_ALL_process_inversion_batch_processing.sh`**  
   Runs all processes in batch mode, automating the inversion workflow.

5. **`process_single_disp.sh`**  
   Executes a single dispersion inversion task.

### Python Scripts
6. **`4_out_files_organize.py`**  
   Organizes output files generated by CPS330 into a structured format.

7. **`5_txt_adjustedtocps.py`**  
   Adjusts the dispersion curve files to be compatible with CPS330.

8. **`6_txt_plot.py`**  
   Generates plots of inversion results and adjusted dispersion curves.

### Input and Output Files
9. **`curve_input`**  
   Input dispersion curve file for CPS330.

10. **`curve_input_adjustedtocps`**  
    Adjusted dispersion curve file compatible with CPS330.

11. **`modl`**  
    Initial model file for inversion.

12. **`modl.out`**  
    Output model file after inversion.

13. **`.disp`**  
    Temporary or intermediate dispersion curve file.

### Example Results and Visualization
14. **`figsrf1.eps`**, **`figsrf1.png`**, **`figsrf2.eps`**, **`figsrf2.png`**  
    Example plots of inversion results.

15. **`disp.d`**, **`modl.d`**  
    Example data files.

16. **`I.PLT`**, **`IT.PLT`**  
    Example plot files for CPS330 results.

---

## Usage Instructions

### 1. Setting Up CPS330
Ensure that **CPS330** is installed on your system and that its executables are accessible from the command line.

### 2. Running Scripts
1. **Prepare Input Files**:  
   Place your dispersion curve (`curve_input`) and initial model (`modl`) files in the appropriate directories.
   
2. **Execute Bash Scripts**:  
   Use the provided `.sh` scripts to process and run inversion tasks. For example:
   ```bash
   bash 1_process_disp.sh
   bash 1_ALL_process_inversion_batch_processing.sh
